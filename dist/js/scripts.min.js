!(function t() {
  let e = { AH: [], IQ: [], RZ: [] },
    a = ['red', 'violet', 'gold', 'green', 'pink'],
    l = $('#pokemon-list-container'),
    n = $('#modalContent'),
    o = $('#modalTitle'),
    r = $('#modalBody'),
    d = $('.nav-link');
  function i(t) {
    let e = t.split(/[_-\s]/),
      a = e.map(function t(e) {
        return e.charAt(0).toUpperCase() + e.slice(1);
      });
    return a.join(' ');
  }
  function s(t) {
    (this.name = i(t.name)),
      (this.detailsUrl = t.url),
      (this.color = (function t() {
        let e = Math.floor(Math.random() * a.length);
        return a[e];
      })()),
      (this.setFullDetails = function t(e) {
        this.imageUrl = e.sprites.other['official-artwork'].front_default;
        let a = new Map();
        a.set('Heigth', `${e.height / 10} m`),
          a.set('Weight', `${e.weight / 10} kg`);
        let l = e.types.map((t) => i(t.type.name)).join(', ');
        a.set('Types', l), (this.props = a);
        let n = new Map();
        e.stats.forEach((t) => {
          let e = i(t.stat.name),
            a = t.base_stat;
          n.set(e, a);
        }),
          (this.stats = n);
      });
  }
  function p(t) {
    var e;
    let a = $(`<button>${t.name}</button>`)
      .attr('data-bs-toggle', 'modal')
      .attr('data-bs-target', '#pokemonModal')
      .addClass('btn')
      .addClass('btn-block')
      .addClass(`btn-pokemon--${t.color}`)
      .on(
        'click',
        ((e = t),
        () => {
          var t;
          ((t = e),
          $.ajax(t.detailsUrl)
            .then(
              (e) => (
                (function t(e) {
                  let a;
                  try {
                    let l =
                        null !==
                        e.sprites.other['official-artwork'].front_default,
                      n = null !== e.height,
                      o = null !== e.weight,
                      r = null !== e.types,
                      d = null !== e.stats;
                    return (a = l && l && n && o && r && d);
                  } catch (i) {
                    return console.error(i), !1;
                  }
                })(e) && t.setFullDetails(e),
                t
              )
            )
            .catch((t) => {
              console.error(t);
            })).then(() => {
            !(function t(e) {
              o.empty(),
                r.empty(),
                n.removeClass(),
                n.addClass(`modal-content p-4 modal--${e.color}`),
                o.text(e.name);
              let a = $('<div></div>').addClass('container-fluid text-center'),
                l = $('<div></div>').addClass('row gx-2'),
                d = $('<div></div>').addClass('col-lg-6'),
                i = $('<img></img>')
                  .addClass('img-fluid')
                  .attr('src', `${e.imageUrl}`)
                  .attr('alt', `${e.name} artwork`);
              d.append(i);
              let s = $('<div></div>').addClass(
                'col-lg-2 col-sm-4 d-flex flex-column'
              );
              e.props.forEach((t, e) => {
                let a = $('<div></div>').addClass(
                    'bg-light p-4 my-1 rounded-4'
                  ),
                  l = $(`<h5>${e}</h5>`).addClass('fw-bold'),
                  n = $(`<p>${t}</p>`);
                a.append(l).append(n), s.append(a);
              });
              let p = $('<div></div>').addClass(
                  'col-lg-4 col-sm-8 d-flex flex-column'
                ),
                c = $('<div></div>').addClass(
                  'bg-light py-4 px-3 my-1 rounded-4 flex-fill'
                ),
                u = $('<h5>Stats</h5>').addClass('fw-bold'),
                m = $('<table></table>').addClass(
                  'table table-borderless text-start m-auto'
                ),
                h = $('<tbody></tbody>');
              e.stats.forEach((t, e) => {
                let a = $('<tr></tr>'),
                  l = $(`<th>${e}</th>`),
                  n = $(`<td>${t}</td>`);
                a.append(l).append(n), h.append(a);
              }),
                m.append(h),
                c.append(u).append(m),
                p.append(c),
                l.append(d).append(s).append(p),
                a.append(l),
                r.append(a);
            })(e);
          });
        })
      );
    l.append(a);
  }
  function c(t) {
    return () => {
      l.empty(), e[t].forEach(p);
    };
  }
  return (
    d.click(function t(e) {
      d.removeClass('active').removeAttr('aria-current'),
        $(e.target).addClass('active').attr('aria-current', 'page');
    }),
    $('#AHNavButton').click(c('AH')),
    $('#IQNavButton').click(c('IQ')),
    $('#RZNavButton').click(c('RZ')),
    void (function t() {
      function a(t) {
        var a;
        'object' == typeof (a = t) && 'name' in a && 'url' in a
          ? !(function t(a) {
              var l;
              let n =
                  -1 === (l = a.name).localeCompare('i')
                    ? e.AH
                    : -1 !== l.localeCompare('r')
                    ? e.RZ
                    : e.IQ,
                o = n.findIndex((t) => -1 === a.name.localeCompare(t.name));
              -1 === o ? n.push(a) : n.splice(o, 0, a);
            })(new s(t))
          : console.error('Invalid item');
      }
      return $.ajax('https://pokeapi.co/api/v2/pokemon/?limit=100')
        .then((t) => {
          t.results.forEach(a);
        })
        .catch((t) => {
          console.error(t);
        });
    })().then(c('AH'))
  );
})();
